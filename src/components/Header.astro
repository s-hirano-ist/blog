---
import Hr from "@components/Hr.astro";
import LinkButton from "@components/LinkButton.astro";
import { SITE } from "@config";

export type ContentsType = "summary" | "news" | "search";

export type Props = {
  activeNav?: ContentsType;
  title?: string;
  darkModeDisabled?: boolean;
};

const { activeNav, title = SITE.title, darkModeDisabled = false } = Astro.props;

const color = (targetActiveNav: ContentsType | undefined) => {
  if (darkModeDisabled) return "fill-skin-white";

  return activeNav === targetActiveNav ? "fill-skin-accent" : "fill-skin-base";
};
---

<header>
  <div class="mx-auto flex h-16 max-w-5xl items-center">
    <div class="relative flex w-full justify-between p-4">
      <a
        href="/"
        class=`static mt-2 w-48 text-2xl font-semibold ${darkModeDisabled && "text-skin-white"}`>
        {title}
      </a>
      <nav>
        <div class="mt-2 flex">
          <LinkButton
            href="/search"
            className={color("search")}
            ariaLabel="search"
            title="Search">
            <svg xmlns="http://www.w3.org/2000/svg">
              <path
                d="M19.023 16.977a35.13 35.13 0 0 1-1.367-1.384c-.372-.378-.596-.653-.596-.653l-2.8-1.337A6.962 6.962 0 0 0 16 9c0-3.859-3.14-7-7-7S2 5.141 2 9s3.14 7 7 7c1.763 0 3.37-.66 4.603-1.739l1.337 2.8s.275.224.653.596c.387.363.896.854 1.384 1.367l1.358 1.392.604.646 2.121-2.121-.646-.604c-.379-.372-.885-.866-1.391-1.36zM9 14c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z"
              ></path>
            </svg>
          </LinkButton>
        </div>
      </nav>
    </div>
  </div>
  <Hr darkModeDisabled />
</header>
